<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aromea - Menu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="ajout-message" class="ajout-flottant">‚úÖ Article ajout√© au panier</div>

  <!-- ===== CHARGEMENT DU HEADER ===== -->
  <div id="header"></div>

  <!-- ===== CONTENU DE LA PAGE MENU ===== -->
  <main class="menu-page">
    <div id="total-menu" style="text-align: right; font-weight: bold; color: #f97316; margin-bottom: 20px;">
      Total actuel : 0,00 ‚Ç¨
    </div>
    
    <h2>Notre Menu</h2>

    <!-- === PLATS THA√èLANDAIS === -->
    <section class="menu-section">
      <h3>Plats Tha√Ølandais</h3>
      <div class="menu-grid">

        <div class="menu-item">
          <img src="images/pad_thai.png" alt="Pad Tha√Ø">
          <h4>Pad Tha√Ø</h4>
          <p>Nouilles saut√©es au wok, crevettes ou poulet, cacahu√®tes, citron vert.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">12,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Pad Tha√Ø', 'plats', 12.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/curry_rouge.png" alt="Curry Rouge">
          <h4>Curry Rouge</h4>
          <p>√âpic√©, lait de coco, l√©gumes croquants, basilic tha√Ø.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">13,50 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Curry Rouge', 'plats', 13.50)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/curry_vert.png" alt="Curry Vert">
          <h4>Curry Vert</h4>
          <p>Tr√®s parfum√©, l√©gumes, aubergines, poulet ou tofu.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">13,00 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Curry Vert', 'plats', 13.00)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/boeuf_basilic.png" alt="B≈ìuf au basilic">
          <h4>B≈ìuf au basilic</h4>
          <p>√âminc√© de b≈ìuf saut√© avec basilic tha√Ø, ail et piment.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">13,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('B≈ìuf au basilic', 'plats', 13.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/salade_papaye.png" alt="Salade de papaye">
          <h4>Salade de papaye</h4>
          <p>Som Tam : papaye verte r√¢p√©e, citron vert, cacahu√®tes, piment.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">9,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Salade de papaye', 'plats', 9.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/riz_ananas.png" alt="Riz √† l‚Äôananas">
          <h4>Riz saut√© √† l‚Äôananas</h4>
          <p>Riz tha√Ø, crevettes, ananas, noix de cajou, √©pices douces.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">11,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Riz √† l‚Äôananas', 'plats', 11.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/brochettes_poulet.png" alt="Brochettes Satay">
          <h4>Brochettes Satay</h4>
          <p>Poulet grill√© marin√© aux √©pices, sauce cacahu√®te maison.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">10,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Brochettes Satay', 'plats', 10.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/soupe_coco.png" alt="Soupe coco">
          <h4>Soupe coco</h4>
          <p>Tom Kha Kai : soupe au lait de coco, galanga, citronnelle, poulet.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">9,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Soupe coco', 'plats', 9.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/crevettes_piment.png" alt="Crevettes √©pic√©es">
          <h4>Crevettes √©pic√©es</h4>
          <p>Crevettes saut√©es au wok avec ail, piment, coriandre fra√Æche.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">14,20 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Crevettes √©pic√©es', 'plats', 14.20)">Ajouter au panier</button>
        </div>

      </div>
    </section>

    <!-- === DESSERTS === -->
    <section class="menu-section">
      <h3>Desserts</h3>
      <div class="menu-grid">

        <div class="menu-item">
          <img src="images/mango_sticky_rice.png" alt="Mango Sticky Rice">
          <h4>Mango Sticky Rice</h4>
          <p>Riz gluant sucr√©, mangue fra√Æche, lait de coco.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">6,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Mango Sticky Rice', 'desserts', 6.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/banane_coco.png" alt="Banane au lait de coco">
          <h4>Banane au lait de coco</h4>
          <p>Banane cuite dans du lait de coco sucr√© et chaud.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">5,90 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Banane au lait de coco', 'desserts', 5.90)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/perles_tapioca.png" alt="Perles de tapioca">
          <h4>Perles de tapioca</h4>
          <p>Tapioca, lait de coco, banane ou patate douce.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">6,50 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Perles de tapioca', 'desserts', 6.50)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/beignets_banane.png" alt="Beignets de banane">
          <h4>Beignets de banane</h4>
          <p>Petits beignets croustillants √† la banane, sauce miel.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">6,20 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Beignets de banane', 'desserts', 6.20)">Ajouter au panier</button>
        </div>

        <div class="menu-item">
          <img src="images/boulettes_sesame.png" alt="Boulettes de s√©same">
          <h4>Boulettes de s√©same</h4>
          <p>Beignets de riz gluant fourr√©s √† la p√¢te de haricot rouge, enrob√©s de s√©same.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">6,50 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Boulettes de s√©same', 'desserts', 6.50)">Ajouter au panier</button>
        </div>
        
        <div class="menu-item">
          <img src="images/taro_coco.png" alt="Taro au lait de coco">
          <h4>Taro au lait de coco</h4>
          <p>D√©s de taro fondants dans un lait de coco parfum√© et sucr√©.</p>
          <div class="prix-wrapper"></div>
          <p class="prix">6,80 ‚Ç¨</p>
          <button onclick="ajouterAuPanier('Taro au lait de coco', 'desserts', 6.80)">Ajouter au panier</button>
        </div>
        

      </div>
    </section>

    <!-- === BOISSONS === -->
<section class="menu-section">
  <h3>Boissons</h3>
  <div class="menu-grid">

    <div class="menu-item">
      <img src="images/thai_tea.png" alt="Thai Tea">
      <h4>Th√© glac√© tha√Ø</h4>
      <p>Th√© noir sucr√© aux √©pices, lait concentr√©, servi glac√©.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,50 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Th√© glac√© tha√Ø', 'boissons', 3.50)">Ajouter au panier</button>
    </div>

    <div class="menu-item">
      <img src="images/eau_coco.png" alt="Eau de coco">
      <h4>Eau de coco</h4>
      <p>Eau de coco 100% naturelle, servie fra√Æche.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,50 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Eau de coco', 'boissons', 3.50)">Ajouter au panier</button>
    </div>

    <div class="menu-item">
      <img src="images/boisson_citronnelle.png" alt="Citronnelle fra√Æche">
      <h4>Citronnelle fra√Æche</h4>
      <p>Infusion maison √† la citronnelle, citron et menthe.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,50 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Citronnelle fra√Æche', 'boissons', 3.50)">Ajouter au panier</button>
    </div>

    <div class="menu-item">
      <img src="images/coca.png" alt="Coca-Cola">
      <h4>Coca-Cola</h4>
      <p>Canette 33cl servie fra√Æche.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,00 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Coca-Cola', 'boissons', 3.00)">Ajouter au panier</button>
    </div>

    <div class="menu-item">
      <img src="images/sprite.png" alt="Sprite">
      <h4>Sprite</h4>
      <p>Canette 33cl servie fra√Æche.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,00 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Sprite', 'boissons', 3.00)">Ajouter au panier</button>
    </div>

    <div class="menu-item">
      <img src="images/fanta.png" alt="Fanta">
      <h4>Fanta</h4>
      <p>Canette 33cl servie fra√Æche.</p>
      <div class="prix-wrapper"></div>
      <p class="prix">3,00 ‚Ç¨</p>
      <button onclick="ajouterAuPanier('Fanta', 'boissons', 3.00)">Ajouter au panier</button>
    </div>

  </div>
</section>

  </main>

  <!-- ===== CHARGEMENT DU FOOTER ===== -->
  <div id="footer"></div>

   <!-- ===== SCRIPT POUR PANIER ET CHARGEMENT HEADER/FOOTER ===== -->
   <script>
    
function ajouterAuPanier(nom, categorie, prix) {
  let panier = JSON.parse(localStorage.getItem('panierDetaille')) || [];
  const index = panier.findIndex(item => item.nom === nom && item.categorie === categorie);

  if (index !== -1) {
    panier[index].quantite += 1;
  } else {
    panier.push({ nom, categorie, prix, quantite: 1 });
  }

  localStorage.setItem('panierDetaille', JSON.stringify(panier));
  mettreAJourTotalMenu();
mettreAJourBadgeNav(); // üëà Met √† jour le badge apr√®s ajout
const msg = document.getElementById('ajout-message');
msg.classList.add('visible');
setTimeout(() => msg.classList.remove('visible'), 1500);


}

function mettreAJourBadgeNav() {
  const panier = JSON.parse(localStorage.getItem('panierDetaille')) || [];
  const totalArticles = panier.reduce((sum, item) => sum + item.quantite, 0);
  const badge = document.getElementById('nav-badge');
  if (badge) {
    badge.textContent = totalArticles > 0 ? totalArticles : '';

    // Ajoute l'effet de rebond
    badge.classList.remove('bounce');
    void badge.offsetWidth; // üîÑ force le reflow pour relancer l'animation
    badge.classList.add('bounce');
  }
}
mettreAJourBadgeNav();

function mettreAJourTotalMenu() {
  const panier = JSON.parse(localStorage.getItem('panierDetaille')) || [];
  const total = panier.reduce((sum, item) => sum + item.prix * item.quantite, 0);
  const totalElement = document.getElementById('total-menu');
  if (totalElement) {
    totalElement.textContent = `Total actuel : ${total.toFixed(2).replace('.', ',')} ‚Ç¨`;
  }
}
// Appeler la mise √† jour du total √† chaque ajout
mettreAJourTotalMenu();


fetch('header.html').then(res => res.text()).then(data => {
  document.getElementById('header').innerHTML = data;
  mettreAJourBadgeNav(); // üëà Appeler la fonction APR√àS que le header est en place
});

    
    fetch('footer.html').then(res => res.text()).then(data => {
      document.getElementById('footer').innerHTML = data;
    });
  </script>

  
</body>
</html>
